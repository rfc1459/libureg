PROJECT(libureg)

CMAKE_MINIMUM_REQUIRED(VERSION 2.6)

SET(CMAKE_MODULE_PATH "${PROJECT_SOURCE_DIR}/cmake")

INCLUDE(CheckFunctionExists)
INCLUDE(HandleBison)

FIND_BISON()

SET(ureg_LIB_SRCS
compile.c
${PROJECT_BINARY_DIR}/parse.c
thompsonvm.c
ureg.c
)

ADD_BISON_SOURCE(${PROJECT_SOURCE_DIR}/parse.y ${PROJECT_BINARY_DIR}/parse.c)

INCLUDE_DIRECTORIES(${PROJECT_BINARY_DIR} ${PROJECT_SOURCE_DIR})

ADD_LIBRARY(ureg STATIC ${ureg_LIB_SRCS})
